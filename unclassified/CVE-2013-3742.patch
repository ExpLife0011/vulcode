From 9b3551601ce714adb5e3f428476052f0ec6093bf Mon Sep 17 00:00:00 2001
From: Dieter Adriaenssens <ruleant@users.sourceforge.net>
Date: Wed, 29 May 2013 21:13:32 +0200
Subject: [PATCH] escape query in error message

---
 view_create.php | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/view_create.php b/view_create.php
index d8781295d88..cd2ec3b616e 100644
--- a/view_create.php
+++ b/view_create.php
@@ -114,7 +114,8 @@
             $response->addJSON(
                 'message',
                 PMA_Message::error(
-                    "<i>$sql_query</i><br /><br />" . PMA_DBI_getError()
+                    "<i>" . htmlspecialchars($sql_query) . "</i><br /><br />"
+                    . PMA_DBI_getError()
                 )
             );
             $response->isSuccess(false);
